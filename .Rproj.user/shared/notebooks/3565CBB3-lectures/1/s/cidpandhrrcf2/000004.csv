"0",""
"0","## link to the class page of any class meetings where such exists"
"0","cmdat <-"
"0","  data.frame(pdf = list.files(path=""lectures"", pattern = '^lect.*pdf', full.names=TRUE),"
"0","             stringsAsFactors = FALSE)"
"0","cmdath <-"
"0","  data.frame(html = list.files(path=""lectures"", pattern = '^lect.*html', full.names=TRUE),"
"0","             stringsAsFactors = FALSE)"
"0","cmdat <- cmdat %>% mutate(lect = str_extract(pdf, ""lect[0-9]+""))"
"0","cmdat$lect <- sapply(cmdat$lect, str_replace, pattern=""lect0*([0-9]+)"", replacement=""lecture-\\1"")"
"0","cmdath <- cmdath %>% mutate(lect = str_extract(html, ""lect[0-9]+""))"
"0","cmdath$lect <- sapply(cmdath$lect, str_replace, pattern=""lect0*([0-9]+)"", replacement=""lecture-\\1"")"
"0","if (nrow(cmdat) >0){"
"0","  cdat <- cdat %>% left_join(cmdat, by=""lect"")"
"0","}else{"
"0","  cdat$pdf <- NA"
"0","}"
"0","if (nrow(cmdath) >0){"
"0","  cdat <- cdat %>% left_join(cmdath, by=""lect"")"
"0","}else{"
"0","  cdat$html <- NA"
"0","}"
"0","pdf_exists <- Negate(is.na)(cdat$pdf)"
"0","html_exists <- Negate(is.na)(cdat$html)"
"0",""
"0","# Insert placeholder link to notes "
"0","#cdat$notes[pdf_exists] <-"
"0"," # str_replace(cdat$notes[which(pdf_exists)],"
"0","#              ""(lecture-[0-9]+)|(lecture-[1-9]+)"", '<a href=""LINK"">\\1</a>')"
"0",""
"0","cdat$notes[pdf_exists] <-"
"0","  str_replace(cdat$notes[which(pdf_exists)],"
"0","              ""(lecture-[0-9]+)|(lecture-[1-9]+)"", '[\\1](LINK)')"
"0","# Replace placeholder ""LINK"" which pdf file names"
"0","if (sum(pdf_exists) > 0)"
"0","  cdat$notes[pdf_exists] <- str_replace(cdat$notes[which(pdf_exists)], ""LINK"", cdat$pdf[which(pdf_exists)])"
"0",""
"0","# Append notes field with link to html if it exists"
"0","if (sum(html_exists) > 0)"
"0","  cdat$notes[html_exists] <- paste0(cdat$notes[which(html_exists)], "" [[html]("", cdat$html[which(html_exists)], "")]"")"
"0",""
"0","dat_cm <- cdat %>% split(cdat$course)"
"0","dat_cm <- lapply(dat_cm, 'rownames<-', NULL)"
